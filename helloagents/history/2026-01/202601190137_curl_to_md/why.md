# 变更提案: cURL → Markdown 文档生成

## 需求背景
开发/测试在排查接口或对接文档时，经常需要把浏览器 DevTools Network 中的请求快速整理成可复用的接口说明。手工整理 URL、Headers、参数与 Body 容易遗漏且耗时，因此需要一个“粘贴即可生成 Markdown 文档骨架”的工具页。

## 产品分析

### 目标用户与场景
- **用户群体:** 前端/后端开发、测试、接口对接人员
- **使用场景:** 在 DevTools Network 右键请求 → Copy as cURL → 粘贴到工具页生成接口文档
- **核心痛点:** 文档整理耗时、容易遗漏请求细节、无法快速形成标准化输出

### 价值主张与成功指标
- **价值主张:** 以最小操作把真实请求转换成可分享的 Markdown 接口说明
- **成功指标:** 单次请求文档生成耗时从“分钟级”降到“秒级”；生成结果结构一致、可复制/下载

### 人文关怀
工具应在本地完成解析与生成，不上传请求内容；同时避免引导用户将敏感信息（如 Cookie/Token）传播到不安全位置（本期按需求不做默认脱敏）。

## 变更内容
1. 新增独立工具页：粘贴「Copy as cURL」文本并生成 Markdown 文档
2. 结构化解析：提取 Method、URL、Query 参数、Headers、Body（JSON/表单/Raw）
3. 文档导出：页面预览 + 一键复制 + 下载 `.md`

## 影响范围
- **模块:** 工具面板（DevTools）、cURL → Markdown（新）
- **文件:** 预计新增 2-3 个工具/组件文件 + 更新路由与菜单
- **API:** 无对外 API 变更
- **数据:** 无持久化数据变更

## 核心场景

### 需求: curl-to-md
**模块:** cURL → Markdown
将「Copy as cURL」文本解析为结构化请求信息，并生成 Markdown 接口文档骨架。

#### 场景: paste-curl
用户在 DevTools Network 复制 cURL（含 Windows 多行 `^` 转义）并粘贴到工具页。
- 预期结果：页面显示解析后的请求摘要与 Markdown 文本预览

#### 场景: copy-md
用户点击“一键复制”。
- 预期结果：将生成的 Markdown 文本写入剪贴板

#### 场景: download-md
用户点击“下载 .md”。
- 预期结果：下载一个 Markdown 文件（文件名基于 URL 路径或时间戳生成）

## 风险评估
- **风险:** cURL 文本存在多种平台/引用/转义差异，解析可能失败或不完整
- **缓解:** 引入第三方命令行分词解析库（方案2），并在解析失败时提供明确错误提示与降级（至少保留原始 cURL 与 URL/Headers 的最佳努力提取）

